<html>
<head>
	<title>NExternal</title>
	<script src="../libs/jquery-1.9.1.min.js"></script>
	<script src="../libs/rc5/handlebars.js"></script>
	<script src="../libs/rc5/ember-1.0.0-rc.5.js"></script>
</head>
<body>
	<h4>Nested Routes w/ External</h4>
	
	<script type="text/x-handlebars">
	    {{#linkTo "practice"}}practice{{/linkTo}}
	    {{#linkTo "configurator"}}configurator{{/linkTo}}
	    {{#linkTo "configurator.basic"}}configurator.basic{{/linkTo}}
	    {{#linkTo "configurator.users"}}configurator.users{{/linkTo}}
	    {{#linkTo "configurator.erx"}}configurator.erx{{/linkTo}}
	    {{#linkTo "configurator.labs"}}configurator.labs{{/linkTo}}
	    {{#linkTo "labs.signup"}}labs.signup{{/linkTo}}
	    <p></p>
	    <div style="height:250px;width:450px;background-color:yellow;">
		    application outlet
		    <br/>{{outlet}}
	    <div>
	</script>

	<script type="text/x-handlebars" data-template-name="configurator">
	    <div style="margin:10px 20px 10px 20px;height:200px;width:325px;background-color:green;">
		    configurator: 
		    <br/>{{outlet}}
		    <br/>{{outlet "configurator-outlet"}}
	    </div>
	</script>

	<script type="text/x-handlebars" data-template-name="configurator/basic">
	    <div style="margin:10px 20px 10px 20px;height:125px;width:225px;background-color:pink;">
			configurator/basic template
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="configurator/users">
	    <div style="margin:10px 20px 10px 20px;height:125px;width:225px;background-color:silver;">
			configurator/USERS template
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="configurator/erx">
	    <div style="margin:10px 20px 10px 20px;height:125px;width:225px;background-color:gray;">
			configurator/ERX template
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="configurator/labs">
	    <div style="margin:10px 20px 10px 20px;height:125px;width:225px;background-color:#dd0000;">
			configurator/labs signup  template...
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="labs/signup">
	    <div style="margin:10px 20px 10px 20px;height:200px;width:325px;background-color:#dddddd;">
			<b>LABS SIGNUP</b>
	    </div>
	</script>

</body>
<script>

App = Ember.Application.create({});

App.Router.map(function() {
    this.resource('practice', { path: '/practice' }, function() {
        this.resource('configurator', { path: '/configurator'}, function() {
            this.route('basic' );
            this.route('users' );
            this.route('erx' );
            this.route('labs' );
            this.route('summary' );
        })
    });
    this.resource('labs', function() {
        this.route('signup' );
    });
});

App.ConfiguratorRoute = Ember.Route.extend({
	model: function() {
		this._super();
		console.log("in ConfiguratorRoute model ");
	}
});

App.ConfiguratorController = Ember.ObjectController.extend({
	init: function() {
		this._super();
		console.log("in ConfiguratorController init ");
	}
});

App.ConfiguratorIndexRoute = Ember.Route.extend({
	model: function() {
		this._super();
		console.log("in ConfiguratorIndexRoute model ");
	}
});

App.ConfiguratorIndexController = Ember.ObjectController.extend({
	init: function() {
		this._super();
		console.log("in ConfiguratorIndexController init ");
	}
});


App.ConfiguratorBasicRoute = Ember.Route.extend({
	model: function() {
		this._super();
		console.log("in ConfiguratorBasicRoute model ");
	}
});

App.ConfiguratorBasicController = Ember.ObjectController.extend({
	init: function() {
		this._super();
		console.log("in ConfiguratorBasicController init ");
	}
});

// *********************************************

App.ConfiguratorLabsRoute = Ember.Route.extend({
    renderTemplate: function() {
    	console.log("in ConfiguratorLabsRoute... renderTemplate hook");
        this.render({
            into: 'configurator'
        });
    }
});

App.LabsSignupRoute = Ember.Route.extend({
    renderTemplate: function() {
    	console.log("in LabsSignupRoute... renderTemplate hook");
        this.render({
        	outlet: 'configurator-outlet'
            //into: 'configurator'
        });
    }
});


</script>
</html>

